import type { QueryClient, QueryKey, QueryFunction } from '@tanstack/react-query';
type QueryInput = {
    toSql(): string;
} & Record<string, any>;
export interface SpacetimeDBQueryOptions {
    queryKey: readonly ['spacetimedb', string, string];
    staleTime: number;
}
export interface SpacetimeDBQueryOptionsSkipped extends SpacetimeDBQueryOptions {
    enabled: false;
}
export declare function spacetimeDBQuery(queryOrSkip: 'skip'): SpacetimeDBQueryOptionsSkipped;
export declare function spacetimeDBQuery(query: QueryInput): SpacetimeDBQueryOptions;
interface SpacetimeConnection {
    db: Record<string, any>;
    subscriptionBuilder: () => {
        onApplied: (cb: () => void) => any;
        subscribe: (query: string) => {
            unsubscribe: () => void;
        };
    };
}
export declare class SpacetimeDBQueryClient {
    private connection;
    private queryClient;
    private subscriptions;
    private pendingQueries;
    private cacheUnsubscribe;
    setConnection(connection: SpacetimeConnection): void;
    connect(queryClient: QueryClient): void;
    queryFn: QueryFunction<any[], QueryKey>;
    private getTableData;
    private setupSubscription;
    private processPendingQueries;
    disconnect(): void;
}
export {};
//# sourceMappingURL=SpacetimeDBQueryClient.d.ts.map